(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-production-resistanceTrim-resistanceTrim"],{"0353":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"content"})},i=[]},1608:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={"u-Input":n("390f").default,xuiScan:n("f315").default,uniTable:n("ca8a").default,uniTr:n("72ad").default,uniTh:n("d63c").default,uniTd:n("2b8a").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"headerp",attrs:{id:"main-form"}},[n("v-uni-view",{staticClass:"product ml-10"},[e._v("生产号：")]),n("v-uni-view",{staticClass:"input-view"},[n("u--input",{attrs:{placeholder:"",height:30,fontSize:"8",border:"surround"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onBtnQuery.apply(void 0,arguments)}},model:{value:e.listQuery.productNo,callback:function(t){e.$set(e.listQuery,"productNo",t)},expression:"listQuery.productNo"}})],1),n("v-uni-button",{staticClass:"ml-10",attrs:{size:"mini",type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onBtnQuery.apply(void 0,arguments)}}},[e._v("查询")]),e.showScan?n("xui-scan",{attrs:{qrCodeType:"barCode",label:"请扫描线圈条码"},on:{scanResult:function(t){arguments[0]=t=e.$handleEvent(t),e.handleScanResult.apply(void 0,arguments)}}}):e._e()],1)],1),n("v-uni-scroll-view",{attrs:{"scroll-y":"true"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.handleScrollTable.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"app-containerC wp table-zdy mini-table"},[n("uni-table",{ref:"table",attrs:{border:!0,stripe:!0,emptyText:"暂无更多数据"}},[n("uni-tr",[n("uni-th",{attrs:{width:"150",align:"center"}},[e._v("序号")]),n("uni-th",{attrs:{width:"150",align:"center"}},[e._v("生产号")]),n("uni-th",{attrs:{width:"150",align:"center"}},[e._v("图号")]),n("uni-th",{attrs:{width:"150",align:"center"}},[e._v("型号")]),n("uni-th",{attrs:{width:"150",align:"center"}},[e._v("操作")])],1),e._l(e.tableData,(function(t,a){return n("uni-tr",{key:a},[n("uni-td",{attrs:{align:"center"}},[e._v(e._s(a+1))]),n("uni-td",{attrs:{align:"center"}},[e._v(e._s(t.productNoMain))]),n("uni-td",{attrs:{align:"center"}},[e._v(e._s(t.drawingNo))]),n("uni-td",{attrs:{align:"center"}},[e._v(e._s(t.productModel))]),n("uni-td",{attrs:{align:"center"}},[n("v-uni-view",{staticClass:"uni-group flexCenter"},[n("v-uni-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.handleSelect(t)}}},[e._v("开始配平")])],1)],1)],1)}))],2)],1)],1)],1)},o=[]},"25fa":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("498a");var a={name:"xuiPdaScan",data:function(){return{r:Math.random(),main:null,receiver:null,filter:null,shakeIsShow:!1}},onLoad:function(){console.log("onLoad scan")},mounted:function(e){console.log("mounted scan"),this.monitorScan()},destroyed:function(){console.log("destroyed cancelScan"),this.cancelScan()},methods:{monitorScan:function(){},cancelScan:function(){},antiShake:function(e){var t=this;if(console.log(this.r+":"+e),this.shakeIsShow)return!1;this.shakeIsShow=!0,setTimeout((function(){t.shakeIsShow=!1}),150),"string"===typeof e&&(e=e.trim()),this.$emit("scanResult",e)}}};t.default=a},2697:function(e,t,n){"use strict";n.r(t);var a=n("25fa"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},2909:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e)||(0,i.default)(e)||(0,o.default)(e)||(0,r.default)()};var a=u(n("6005")),i=u(n("db90")),o=u(n("06c5")),r=u(n("3427"));function u(e){return e&&e.__esModule?e:{default:e}}},"2db4":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view")},i=[]},"321b":function(e,t,n){"use strict";var a;n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7");var i={get isIOS(){return"boolean"===typeof a?a:a="ios"===uni.getSystemInfoSync().platform},requestIOS:function(e){return new Promise((function(t,n){switch(e){case"push":t(function(){var e=0,t=plus.ios.import("UIApplication"),n=t.sharedApplication(),a=0;if(n.currentUserNotificationSettings){var i=n.currentUserNotificationSettings();a=i.plusGetAttribute("types"),0==a?(e=0,console.log("推送权限没有开启")):(e=1,console.log("已经开启推送功能!")),plus.ios.deleteObject(i)}else a=n.enabledRemoteNotificationTypes(),0==a?(e=3,console.log("推送权限没有开启!")):(e=4,console.log("已经开启推送功能!"));return plus.ios.deleteObject(n),plus.ios.deleteObject(t),e}());break;case"location":t(function(){var e=0,t=plus.ios.import("CLLocationManager"),n=t.locationServicesEnabled(),a=t.authorizationStatus();return e=n?0===a?null:3===a||4===a?1:0:2,plus.ios.deleteObject(t),e}());break;case"record":t(function(){var e=null,t=plus.ios.import("AVAudioSession"),n=t.sharedInstance(),a=n.recordPermission();return console.log("permissionStatus:"+a),e=1970168948===a?null:1735552628===a?1:0,plus.ios.deleteObject(t),e}());break;case"camera":t(function(){var e=0,t=plus.ios.import("AVCaptureDevice"),n=t.authorizationStatusForMediaType("vide");return e=0===n?null:3==n?1:0,plus.ios.deleteObject(t),e}());break;case"album":t(function(){var e=0,t=plus.ios.import("PHPhotoLibrary"),n=t.authorizationStatus();return e=0===n?null:3==n?1:0,plus.ios.deleteObject(t),e}());break;case"contact":t(function(){var e=0,t=plus.ios.import("CNContactStore"),n=t.authorizationStatusForEntityType(0);return e=0===n?null:3==n?1:0,plus.ios.deleteObject(t),e}());break;case"calendar":t(function(){var e=null,t=plus.ios.import("EKEventStore"),n=t.authorizationStatusForEntityType(0);return 3==n?(e=1,console.log("日历权限已经开启")):console.log("日历权限没有开启"),plus.ios.deleteObject(t),e}());break;case"memo":t(function(){var e=null,t=plus.ios.import("EKEventStore"),n=t.authorizationStatusForEntityType(1);return 3==n?(e=1,console.log("备忘录权限已经开启")):console.log("备忘录权限没有开启"),plus.ios.deleteObject(t),e}());break;default:t(0);break}}))},requestAndroid:function(e){return new Promise((function(t,n){plus.android.requestPermissions([e],(function(e){for(var n=0,a=0;a<e.granted.length;a++){var i=e.granted[a];console.log("已获取的权限："+i),n=1}for(a=0;a<e.deniedPresent.length;a++){var o=e.deniedPresent[a];console.log("拒绝本次申请的权限："+o),n=0}for(a=0;a<e.deniedAlways.length;a++){var r=e.deniedAlways[a];console.log("永久拒绝申请的权限："+r),n=-1}t(n)}),(function(e){console.log("result error: "+e.message),t({code:e.code,message:e.message})}))}))},gotoAppSetting:function(){if(i.isIOS){var e=plus.ios.import("UIApplication"),t=e.sharedApplication(),n=plus.ios.import("NSURL"),a=n.URLWithString("app-settings:");t.openURL(a),plus.ios.deleteObject(a),plus.ios.deleteObject(n),plus.ios.deleteObject(t)}else{var o=plus.android.importClass("android.content.Intent"),r=plus.android.importClass("android.provider.Settings"),u=plus.android.importClass("android.net.Uri"),c=plus.android.runtimeMainActivity(),l=new o;l.setAction(r.ACTION_APPLICATION_DETAILS_SETTINGS);var s=u.fromParts("package",c.getPackageName(),null);l.setData(s),c.startActivity(l)}}},o=i;t.default=o},3427:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n("d9e2"),n("d401")},"390f":function(e,t,n){"use strict";n.r(t);var a=n("996c"),i=n("d2f4");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=u.exports},"3fd4":function(e,t,n){"use strict";n.r(t);var a=n("1608"),i=n("bfa4");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"480a5a63",null,!1,a["a"],void 0);t["default"]=u.exports},"437c":function(e,t,n){"use strict";n.r(t);var a=n("0353"),i=n("2697");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("d630");var r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"f0a6f2e2",null,!1,a["a"],void 0);t["default"]=u.exports},"48e7":function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.findProductNum=function(e){return(0,i.default)({url:"/pbproduction/coilTrim/findProductNum",method:"GET",data:e})},t.getCoilInfoByScanCode=function(e){return(0,i.default)({url:"/pbproduction/coilTrim/getCoilInfoByScanCode",method:"GET",data:e})},t.getCoilList=function(e){return(0,i.default)({url:"/pbproduction/coilTrim/findCoilList",method:"GET",data:{pg_pagesize:e.pg_pagesize||10,pg_pagenum:e.pg_pagenum||1,productNo:e.productNo,trimStatus:e.trimStatus}})},t.handTrim=function(e){return(0,i.default)({url:"/pbproduction/coilTrim/handTrim",method:"POST",data:e})},t.preTrimCoil=function(e){return(0,i.default)({url:"/pbproduction/coilTrim/preTrimCoil",method:"POST",data:e})},t.saveResistanceValue=function(e){return(0,i.default)({url:"/pbproduction/coilTrim/saveResistanceValue",method:"POST",data:e})};var i=a(n("3d7c"))},"4e5f":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.pda-scan-label[data-v-cbe3cefc]{padding-top:4px;color:#3c9cff}',""]),e.exports=t},6005:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(Array.isArray(e))return(0,a.default)(e)};var a=function(e){return e&&e.__esModule?e:{default:e}}(n("6b75"))},"62ac":function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("c7eb")),o=a(n("1da1")),r=(a(n("321b")),{props:{qrCodeType:{type:String,default:"qrCode"}},methods:{scan:function(){return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}});t.default=r},"638a":function(e,t,n){"use strict";n.r(t);var a=n("cc65"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"656f":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".page[data-v-f0a6f2e2]{background-color:#efeff4}.content[data-v-f0a6f2e2]{text-align:center}",""]),e.exports=t},"7eb8":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var a={xuiPdaScan:n("437c").default,xuiCameraScan:n("e913").default,"u-Text":n("ded6").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"normal"===e.scanType?n("v-uni-view",{staticClass:"xui-scan",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"xui-scan__icon"}),n("v-uni-view",{staticClass:"xui-scan__label"},[e._v(e._s(e.labelContent))]),n("xui-pda-scan",{ref:"pdaScanRef",on:{scanResult:function(t){arguments[0]=t=e.$handleEvent(t),e.handleScanResult.apply(void 0,arguments)}}}),!e.isPdaDevice||e.alwayUseCameraScan?n("xui-camera-scan",{ref:"cameraScanRef",attrs:{qrCodeType:e.qrCodeType},on:{scanResult:function(t){arguments[0]=t=e.$handleEvent(t),e.handleScanResult.apply(void 0,arguments)}}}):e._e()],1):n("v-uni-view",[n("v-uni-view",{staticClass:"pda-scan-label",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[n("u--text",{staticStyle:{padding:"8px 0 5px"},attrs:{type:"primary",text:e.labelContent}}),e.isPdaDevice?n("xui-pda-scan",{ref:"pdaScanRef",on:{scanResult:function(t){arguments[0]=t=e.$handleEvent(t),e.handleScanResult.apply(void 0,arguments)}}}):e._e(),!e.isPdaDevice||e.alwayUseCameraScan?n("xui-camera-scan",{ref:"cameraScanRef",attrs:{qrCodeType:e.qrCodeType},on:{scanResult:function(t){arguments[0]=t=e.$handleEvent(t),e.handleScanResult.apply(void 0,arguments)}}}):e._e()],1)],1)},o=[]},8345:function(e,t,n){var a=n("4e5f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("544f0da3",a,!0,{sourceMap:!1,shadowMode:!1})},"8b69":function(e,t,n){"use strict";var a=n("8345"),i=n.n(a);i.a},9364:function(e,t,n){var a=n("656f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("660203c0",a,!0,{sourceMap:!1,shadowMode:!1})},"996c":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uvInput",{attrs:{value:e.value,type:e.type,fixed:e.fixed,disabled:e.disabled,disabledColor:e.disabledColor,clearable:e.clearable,password:e.password,maxlength:e.maxlength,placeholder:e.placeholder,placeholderClass:e.placeholderClass,placeholderStyle:e.placeholderStyle,showWordLimit:e.showWordLimit,confirmType:e.confirmType,confirmHold:e.confirmHold,holdKeyboard:e.holdKeyboard,focus:e.focus,autoBlur:e.autoBlur,disableDefaultPadding:e.disableDefaultPadding,cursor:e.cursor,cursorSpacing:e.cursorSpacing,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,adjustPosition:e.adjustPosition,inputAlign:e.inputAlign,fontSize:e.fontSize,color:e.color,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,suffixIconStyle:e.suffixIconStyle,prefixIconStyle:e.prefixIconStyle,border:e.border,readonly:e.readonly,shape:e.shape,customStyle:e.customStyle,formatter:e.formatter,ignoreCompositionEvent:e.ignoreCompositionEvent},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("focus")},blur:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("blur",t)}.apply(void 0,arguments)},keyboardheightchange:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("keyboardheightchange")},change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("change",t)}.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("input",t)}.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("confirm",t)}.apply(void 0,arguments)},clear:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("clear")},click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click")}}},[e._t("prefix",null,{slot:"prefix"}),e._t("suffix",null,{slot:"suffix"})],2)},i=[]},b427:function(e,t,n){"use strict";n.r(t);var a=n("62ac"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},b71f:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("e9c4");var a=n("48e7"),i={data:function(){return{listQuery:{pg_pagenum:1,pg_pagesize:20,productNo:"",trimStatus:"0"},total:0,tableData:[],selectedIndexs:[],showScan:!1}},onLoad:function(){},onShow:function(){this.onBtnQuery()},onHide:function(){this.showScan=!1},methods:{onBtnQuery:function(){var e=this;this.tableData=[],(0,a.findProductNum)(this.listQuery).then((function(t){e.tableData=t.data,e.total=t.total_count}))},handleSelect:function(e){var t={productNoMain:e.productNoMain,drawingNo:e.drawingNo,productModel:e.productModel};uni.navigateTo({url:"/pages/production/resistanceTrim/trimManage?options="+JSON.stringify(t)})},handleScrollTable:function(){},selectionChange:function(e){console.log(e.detail.index),this.selectedIndexs=e.detail.index},handleScanResult:function(e){var t=this;console.log(e),(0,a.getCoilInfoByScanCode)({serialNumber:e}).then((function(e){if(e.err_code===t.$constants.status.success2){console.log(e.data.productNoMain);var n=e.data;t.$constants.isNotEmpty(n.productNoMain)&&(console.log("-----"),uni.navigateTo({url:"/pages/production/resistanceTrim/trimManage?options="+JSON.stringify(n)}))}else t.$u.toast(e.err_msg)}))}}};t.default=i},bfa4:function(e,t,n){"use strict";n.r(t);var a=n("b71f"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},cc65:function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3"),n("c975");a(n("e143"));var i={props:{label:{type:String,default:""},qrCodeType:{type:String,default:"qrCode"},scanType:{type:String,default:"normal"},scanClass:String,qrCode:[String,Number]},data:function(){var e=getApp().globalData.isPdaDevice,t=this.label;return e||(t=this.addClickScanlabel(this.label)),{isPdaDevice:e,labelContent:t,alwayUseCameraScan:!0}},methods:{handleClick:function(){this.handleScanResult(this.qrCode)},handleScanResult:function(e){this.$constants.isEmpty(e)?console.error("扫到的二维码为空"):this.$emit("scanResult",e)},addClickScanlabel:function(e,t){return t?e:0===e.indexOf("请")?"请点击"+e.substr(e.indexOf("请")+1):"点击"+e}}};t.default=i},d2f4:function(e,t,n){"use strict";n.r(t);var a=n("db37"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},d630:function(e,t,n){"use strict";var a=n("9364"),i=n.n(a);i.a},db37:function(e,t,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("38ad")),o=a(n("9734")),r={name:"u--input",mixins:[uni.$u.mpMixin,o.default,uni.$u.mixin],components:{uvInput:i.default}};t.default=r},e913:function(e,t,n){"use strict";n.r(t);var a=n("2db4"),i=n("b427");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=u.exports},f315:function(e,t,n){"use strict";n.r(t);var a=n("7eb8"),i=n("638a");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("8b69");var r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"cbe3cefc",null,!1,a["a"],void 0);t["default"]=u.exports}}]);