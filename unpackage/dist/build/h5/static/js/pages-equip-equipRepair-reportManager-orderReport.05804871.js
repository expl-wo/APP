(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-equip-equipRepair-reportManager-orderReport","pages-equip-equipCheck-checkItem~pages-equip-equipMaintenance-maintenanceOperation~pages-equip-equip~ce48ebd6"],{"008d":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.loadingIcon.show},color:{type:String,default:uni.$u.props.loadingIcon.color},textColor:{type:String,default:uni.$u.props.loadingIcon.textColor},vertical:{type:Boolean,default:uni.$u.props.loadingIcon.vertical},mode:{type:String,default:uni.$u.props.loadingIcon.mode},size:{type:[String,Number],default:uni.$u.props.loadingIcon.size},textSize:{type:[String,Number],default:uni.$u.props.loadingIcon.textSize},text:{type:[String,Number],default:uni.$u.props.loadingIcon.text},timingFunction:{type:String,default:uni.$u.props.loadingIcon.timingFunction},duration:{type:[String,Number],default:uni.$u.props.loadingIcon.duration},inactiveColor:{type:String,default:uni.$u.props.loadingIcon.inactiveColor}}};t.default=i},"0218":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.confirmRepairInit=function(e){return(0,n.default)({url:"/pbequipment/eqpRepair/confirm",method:"get",data:e})},t.confirmRepairSubmit=function(e){return(0,n.default)({url:"/pbequipment/eqpRepair/confirm",method:"post",data:e})},t.getDeviceRepair=function(e){return(0,n.default)({url:"/pbequipment/eqpRepair/infoById",method:"get",data:e})},t.getEqpByClass=function(e){return(0,n.default)({url:"/pbequipment/equipLedger/idNameByClazz",method:"get",data:e})},t.getEqpClass=function(e){return(0,n.default)({url:"/pbequipment/equipLedger/eqpClazz",method:"get",data:e})},t.getEqpinfo=function(e){return(0,n.default)({url:"/pbequipment/equipLedger/eqpInfo",method:"get",data:data})},t.getRepairInit=function(){return(0,n.default)({url:"/pbequipment/eqpRepair/reportInit",method:"get"})},t.getRepairMans=function(e){return(0,n.default)({url:"/pbequipment/eqpRepair/repairMan",method:"get",data:e})},t.queryEqpList=function(e){return(0,n.default)({url:"/pbequipment/equipLedger/info",method:"get",data:e})},t.submitRepair=function(e){return(0,n.default)({url:"/pbequipment/eqpRepair/report",method:"post",data:e})};var n=i(a("3d7c"))},1094:function(e,t,a){"use strict";a.r(t);var i=a("a32a"),n=a("78f4");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("9555");var r=a("f0c5"),u=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"0d171bfd",null,!1,i["a"],void 0);t["default"]=u.exports},"1d26":function(e,t,a){"use strict";var i=a("78da"),n=a.n(i);n.a},"27a2":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d81d"),a("ac1f"),a("00b4"),a("d3b7"),a("4de4");var n=a("ad23"),o=i(a("c994")),r=i(a("b891")),u={name:"u-upload",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default,r.default],data:function(){return{lists:[],isInCount:!0}},watch:{fileList:{immediate:!0,handler:function(){this.formatFileList()}}},methods:{formatFileList:function(){var e=this,t=this.fileList,a=void 0===t?[]:t,i=this.maxCount,n=a.map((function(t){return Object.assign(Object.assign({},t),{isImage:"image"===e.accept||uni.$u.test.image(t.url||t.thumb),isVideo:"video"===e.accept||uni.$u.test.video(t.url||t.thumb),deletable:"boolean"===typeof t.deletable?t.deletable:e.deletable})}));this.lists=n,this.isInCount=n.length<i},chooseFile:function(){var e=this,t=this.maxCount,a=this.multiple,i=this.lists,o=this.disabled;if(!o){var r;try{r=uni.$u.test.array(this.capture)?this.capture:this.capture.split(",")}catch(u){r=[]}(0,n.chooseFile)(Object.assign({accept:this.accept,multiple:this.multiple,capture:r,compressed:this.compressed,maxDuration:this.maxDuration,sizeType:this.sizeType,camera:this.camera},{maxCount:t-i.length})).then((function(t){e.onBeforeRead(a?t:t[0])})).catch((function(t){e.$emit("error",t)}))}},onBeforeRead:function(e){var t=this,a=this.beforeRead,i=this.useBeforeRead,n=!0;uni.$u.test.func(a)&&(n=a(e,this.getDetail())),i&&(n=new Promise((function(a,i){t.$emit("beforeRead",Object.assign(Object.assign({file:e},t.getDetail()),{callback:function(e){e?a():i()}}))}))),n&&(uni.$u.test.promise(n)?n.then((function(a){return t.onAfterRead(a||e)})):this.onAfterRead(e))},getDetail:function(e){return{name:this.name,index:null==e?this.fileList.length:e}},onAfterRead:function(e){var t=this.maxSize,a=this.afterRead,i=Array.isArray(e)?e.some((function(e){return e.size>t})):e.size>t;i?this.$emit("oversize",Object.assign({file:e},this.getDetail())):("function"===typeof a&&a(e,this.getDetail()),this.$emit("afterRead",Object.assign({file:e},this.getDetail())))},deleteItem:function(e){this.$emit("delete",Object.assign(Object.assign({},this.getDetail(e)),{file:this.fileList[e]}))},onPreviewImage:function(e){var t=this;e.isImage&&this.previewFullImage&&uni.previewImage({urls:this.lists.filter((function(e){return"image"===t.accept||uni.$u.test.image(e.url||e.thumb)})).map((function(e){return e.url||e.thumb})),current:e.url||e.thumb,fail:function(){uni.$u.toast("预览图片失败")}})},onPreviewVideo:function(e){if(this.data.previewFullImage){var t=e.currentTarget.dataset.index,a=this.data.lists;wx.previewMedia({sources:a.filter((function(e){return isVideoFile(e)})).map((function(e){return Object.assign(Object.assign({},e),{type:"video"})})),current:t,fail:function(){uni.$u.toast("预览视频失败")}})}},onClickPreview:function(e){var t=e.currentTarget.dataset.index,a=this.data.lists[t];this.$emit("clickPreview",Object.assign(Object.assign({},a),this.getDetail(t)))}}};t.default=u},"33dd":function(e,t,a){"use strict";a.r(t);var i=a("c59c"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},3473:function(e,t,a){var i=a("9f68");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("224b2948",i,!0,{sourceMap:!1,shadowMode:!1})},"4dfe":function(e,t,a){"use strict";a.r(t);var i=a("ff7e"),n=a("70d3");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("1d26");var r=a("f0c5"),u=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"2a15d55c",null,!1,i["a"],void 0);t["default"]=u.exports},"70d3":function(e,t,a){"use strict";a.r(t);var i=a("27a2"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"78da":function(e,t,a){var i=a("aad2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("9f3aae9a",i,!0,{sourceMap:!1,shadowMode:!1})},"78f4":function(e,t,a){"use strict";a.r(t);var i=a("8247"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},8247:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3"),a("a434"),a("99af"),a("d3b7"),a("159b"),a("baa5"),a("c975"),a("d81d"),a("14d9"),a("d401"),a("25f0");var n=i(a("c7eb")),o=i(a("5530")),r=i(a("1da1")),u=i(a("ade3")),s=a("e237"),l=i(a("b841")),c=(a("9b6c"),a("70f3")),d=a("0218"),p={data:function(){var e;return e={border:!1,classShow:!1,deviceShow:!1,eqpIdNameData:[],faultShow:!1,faultData:[]},(0,u.default)(e,"classShow",!1),(0,u.default)(e,"classList",[]),(0,u.default)(e,"fileList",[]),(0,u.default)(e,"timeParams",{year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!1}),(0,u.default)(e,"nowData",0),(0,u.default)(e,"timeShow",!1),(0,u.default)(e,"showForm",{equipName:"",faultName:"",showTime:"",localImages:[],images:""}),(0,u.default)(e,"requestForm",{equipId:"",faultId:[],requestImages:[]}),(0,u.default)(e,"rules",{className:[{required:!0,message:"请选择设备类型",trigger:["change"]}],equipName:[{required:!0,message:"请选择报修设备",trigger:["change","blur"]}],faultName:[{required:!0,message:"请选择故障类型",trigger:["change","blur"]}],showTime:[{required:!0,message:"请选择预约维修时间",trigger:["change","blur"]}],localImages:[{type:"array",min:1,required:!0,message:"请上传照片",trigger:["change"]}]}),e},onReady:function(){this.$refs.uForm.setRules(this.rules)},onLoad:function(){this.queryEqpClass()},methods:{onShow:function(){var e=this;this.eqpIdNameData=[],this.faultData=[],(0,d.getRepairInit)().then((function(t){t.data.faultCate.length>0&&(e.faultData=t.data.faultCate)})),this.nowData=Number(new Date)},queryEqpClass:function(){var e=this;(0,d.getEqpClass)().then((function(t){e.classList=t.data,console.log(e.classList)}))},close:function(){this.classShow=!1,this.deviceShow=!1,this.faultShow=!1,this.timeShow=!1},deletePic:function(e){this.fileList.splice(e.index,1),this.showForm.localImages.splice(e.index,1)},afterRead:function(e,t,a){var i=this;return(0,r.default)((0,n.default)().mark((function t(){var a,r,u,s,l,d,p,f;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[].concat(e.file),r=["jpg","png","jepg","jpeg","img","gif"],u=!1,a.forEach((function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1);u=-1===r.indexOf(t.toLowerCase())})),!u){t.next=7;break}return uni.showToast({icon:"none",title:"请选择图片"}),t.abrupt("return");case 7:s=i.fileList.length,a.map((function(e){i.fileList.push((0,o.default)((0,o.default)({},e),{},{status:"uploading",message:"上传中"}))})),l=0;case 10:if(!(l<a.length)){t.next=22;break}return t.next=13,i.uploadFilePromise(a[l].url);case 13:d=t.sent,i.showForm.localImages.push(d),p=i.fileList[s],f=(0,c.getFileServerUrl)()+d,i.fileList.splice(s,1,Object.assign(p,{status:"success",message:"",url:f})),s++;case 19:l++,t.next=10;break;case 22:case"end":return t.stop()}}),t)})))()},uploadFilePromise:function(e){return new Promise((function(t,a){l.default.upload({token:(0,s.getToken)(),filePath:e}).then((function(e){if(200!==e.code)return t({status:500,msg:"上传失败"});setTimeout((function(){return t(e.data.filePath)}),150)}))}))},bindDateTimeChange:function(e){this.showForm.showTime=e.detail.value},queryEqpByClass:function(e){var t=this;console.log("通过class找设备"),(0,d.getEqpByClass)({id:e}).then((function(e){t.eqpIdNameData=e.data,console.log(t.eqpIdNameData)}))},saveClassData:function(e){this.showForm.className=e.name,this.requestForm.classId=e.id,this.classShow=!1,this.queryEqpByClass(e.id)},saveDeviceData:function(e){this.showForm.equipName=e.v,this.requestForm.equipId=e.k,this.deviceShow=!1},saveFaultData:function(e){this.showForm.faultName=e.v,this.requestForm.faultId.push(e.k),this.faultShow=!1},datePickerConfirm:function(e){console.log("选择时间",e),this.timeShow=!1},submitRepairClick:function(){var e=this;this.$refs.uForm.validate().then((function(t){if(t){console.log("验证通过");var a={repairInfo:{},repairPic:[],faultCateId:""};a.repairInfo={eqpId:e.requestForm.equipId,triggerSource:"2",triggerTime:e.showForm.showTime},a.repairPic=e.showForm.localImages,a.faultCateId=e.requestForm.faultId,console.log("请求参数",a),(0,d.submitRepair)(a).then((function(e){console.log(e),uni.navigateBack()}))}else console.log("验证失败")})).catch((function(e){}))},cancelClick:function(){uni.navigateBack()},takePhoto:function(){var e=this;uni.chooseImage({success:function(t){var a=t.tempFilePaths;e.showForm.localImages=e.showForm.localImages.concat(a),e.showForm.images=e.showForm.localImages.toString();for(var i=0;i<a.length;i++)uploadSingleFileCommonUrl(a[i]).then((function(t){e.requestForm.requestImages.push(t.data.url)}));console.log("图片",e.showForm.localImages,e.requestForm.requestImages)}})},previewPictures:function(e){uni.previewImage({current:e,urls:this.showForm.localImages})}}};t.default=p},"83c2":function(e,t,a){"use strict";a.r(t);var i=a("b05f"),n=a("33dd");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("d1f0");var r=a("f0c5"),u=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"457c6ce1",null,!1,i["a"],void 0);t["default"]=u.exports},9555:function(e,t,a){"use strict";var i=a("e668"),n=a.n(i);n.a},"9b6c":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.$confirm=function(e){return new Promise((function(t,a){uni.showModal({title:"提示",content:e,success:function(e){e.confirm?t():uni.showToast({icon:"none",title:"已取消",duration:1e3})}})}))},t.$message=function(e){setTimeout((function(){uni.showToast({icon:"none",title:e,duration:3e3})}),100)},t.getCardInfo=function(e){return n.default.isNotEmpty(e)&&e.indexOf("PNO=")>=0?e.substr(e.indexOf("PNO=")+4):""},t.getValueFromList=function(e,t){var a=e.find((function(e){return e.code===t}));return a?a.name:""},t.getVersion=o,t.getVersionDesc=function(){var e="z"===getFormalData(),t=o();return t=r(e,t).label,t},t.getVersionItem=r,t.isEmptyObj=function(e){return"{}"==JSON.stringify(e)},t.needUpVersion=function(e){return new Promise((function(e,t){e({needUp:!1,widgetInfo:{}})}))},t.timeTranslate=function(e){var t=e?new Date(e):new Date,a=t.getMonth()+1,i=t.getDate();a>=1&&a<=9&&(a="0"+a);i>=0&&i<=9&&(i="0"+i);var n=t.getFullYear()+"-"+a+"-"+i;return n},a("d3b7"),a("e9c4"),a("7db0"),a("e25e"),a("c975");var n=i(a("fcb1"));function o(){return""}function r(e,t){return t&&(t="V"+t),e?{type:n.default.flag.y,label:"正式版"+t}:{type:n.default.flag.n,label:"测试版"+t}}},"9f68":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-457c6ce1], uni-scroll-view[data-v-457c6ce1], uni-swiper-item[data-v-457c6ce1]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-loading-icon[data-v-457c6ce1]{flex-direction:row;align-items:center;justify-content:center;color:#c8c9cc}.u-loading-icon__text[data-v-457c6ce1]{margin-left:4px;color:#606266;font-size:14px;line-height:20px}.u-loading-icon__spinner[data-v-457c6ce1]{width:30px;height:30px;position:relative;box-sizing:border-box;max-width:100%;max-height:100%;-webkit-animation:u-rotate-data-v-457c6ce1 1s linear infinite;animation:u-rotate-data-v-457c6ce1 1s linear infinite}.u-loading-icon__spinner--semicircle[data-v-457c6ce1]{border-width:2px;border-color:transparent;border-top-right-radius:100px;border-top-left-radius:100px;border-bottom-left-radius:100px;border-bottom-right-radius:100px;border-style:solid}.u-loading-icon__spinner--circle[data-v-457c6ce1]{border-top-right-radius:100px;border-top-left-radius:100px;border-bottom-left-radius:100px;border-bottom-right-radius:100px;border-width:2px;border-top-color:#e5e5e5;border-right-color:#e5e5e5;border-bottom-color:#e5e5e5;border-left-color:#e5e5e5;border-style:solid}.u-loading-icon--vertical[data-v-457c6ce1]{flex-direction:column}[data-v-457c6ce1]:host{font-size:0;line-height:1}.u-loading-icon__spinner--spinner[data-v-457c6ce1]{-webkit-animation-timing-function:steps(12);animation-timing-function:steps(12)}.u-loading-icon__text[data-v-457c6ce1]:empty{display:none}.u-loading-icon--vertical .u-loading-icon__text[data-v-457c6ce1]{margin:6px 0 0;color:#606266}.u-loading-icon__dot[data-v-457c6ce1]{position:absolute;top:0;left:0;width:100%;height:100%}.u-loading-icon__dot[data-v-457c6ce1]:before{display:block;width:2px;height:25%;margin:0 auto;background-color:currentColor;border-radius:40%;content:" "}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(1){-webkit-transform:rotate(30deg);transform:rotate(30deg);opacity:1}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(2){-webkit-transform:rotate(60deg);transform:rotate(60deg);opacity:.9375}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(3){-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:.875}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(4){-webkit-transform:rotate(120deg);transform:rotate(120deg);opacity:.8125}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(5){-webkit-transform:rotate(150deg);transform:rotate(150deg);opacity:.75}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(6){-webkit-transform:rotate(180deg);transform:rotate(180deg);opacity:.6875}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(7){-webkit-transform:rotate(210deg);transform:rotate(210deg);opacity:.625}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(8){-webkit-transform:rotate(240deg);transform:rotate(240deg);opacity:.5625}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(9){-webkit-transform:rotate(270deg);transform:rotate(270deg);opacity:.5}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(10){-webkit-transform:rotate(300deg);transform:rotate(300deg);opacity:.4375}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(11){-webkit-transform:rotate(330deg);transform:rotate(330deg);opacity:.375}.u-loading-icon__dot[data-v-457c6ce1]:nth-of-type(12){-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:.3125}@-webkit-keyframes u-rotate-data-v-457c6ce1{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-rotate-data-v-457c6ce1{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),e.exports=t},a32a:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uForm:a("31f6").default,uFormItem:a("15dc").default,uInput:a("38ad").default,uniDatetimePicker:a("b68d").default,uUpload:a("4dfe").default,uPopup:a("e6ab").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"app-containerR bg-white cc"},[a("v-uni-view",{staticClass:"leftMax3RCon"},[a("u-form",{ref:"uForm",attrs:{model:e.showForm,labelWidth:"90px"}},[a("u-form-item",{attrs:{label:"设备类型",prop:"className",required:!0}},[a("u-input",{attrs:{placeholder:"请选择设备类型",type:"text",disabled:""},model:{value:e.showForm.className,callback:function(t){e.$set(e.showForm,"className",t)},expression:"showForm.className"}}),a("v-uni-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.classShow=!0}}},[e._v("请选择")])],1),a("u-form-item",{attrs:{label:"报修设备",prop:"equipName",required:!0}},[a("u-input",{attrs:{placeholder:"请选择报修设备",type:"text",disabled:""},model:{value:e.showForm.equipName,callback:function(t){e.$set(e.showForm,"equipName",t)},expression:"showForm.equipName"}}),a("v-uni-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deviceShow=!0}}},[e._v("请选择")])],1),a("u-form-item",{attrs:{label:"预约时间",prop:"showTime",required:!0}},[a("uni-datetime-picker",{attrs:{type:"datetime",start:e.nowData,"hide-second":!0},model:{value:e.showForm.showTime,callback:function(t){e.$set(e.showForm,"showTime",t)},expression:"showForm.showTime"}})],1),a("u-form-item",{attrs:{label:"故障类型",prop:"faultName",required:!0}},[a("u-input",{attrs:{placeholder:"请选择故障类型",type:"text",disabled:""},model:{value:e.showForm.faultName,callback:function(t){e.$set(e.showForm,"faultName",t)},expression:"showForm.faultName"}}),a("v-uni-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.faultShow=!0}}},[e._v("请选择")])],1),a("u-form-item",{staticClass:"upload-group",attrs:{label:"上传图片",prop:"localImages",required:!0}},[a("u-upload",{attrs:{fileList:e.fileList,accept:"image",multiple:!0,maxCount:3,previewFullImage:!0},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"wp app-containerR cc"},[a("v-uni-button",{staticClass:"m-20",attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitRepairClick.apply(void 0,arguments)}}},[e._v("确认")]),a("v-uni-button",{staticClass:"m-20",attrs:{size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelClick.apply(void 0,arguments)}}},[e._v("取消")])],1)],1)],1),a("u-popup",{attrs:{mode:"bottom",show:e.classShow},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"content"},[a("v-uni-scroll-view",{staticStyle:{height:"300rpx"},attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"app-containerC wp table-zdy"},[a("v-uni-view",{staticClass:"th-group"},[a("v-uni-view",{staticClass:"th"},[e._v("设备类型名称")]),a("v-uni-view",{staticClass:"th"},[e._v("操作")])],1),e._l(e.classList,(function(t){return a("v-uni-view",{key:t.id,staticClass:"td-group"},[a("v-uni-view",{staticClass:"td"},[e._v(e._s(t.name))]),a("v-uni-view",{staticClass:"td"},[a("v-uni-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.saveClassData(t)}}},[e._v("确认")])],1)],1)}))],2)],1)],1)],1),a("u-popup",{attrs:{mode:"bottom",show:e.deviceShow},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"content"},[a("v-uni-scroll-view",{staticStyle:{height:"300rpx"},attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"app-containerC wp table-zdy"},[a("v-uni-view",{staticClass:"th-group"},[a("v-uni-view",{staticClass:"th"},[e._v("设备名称")]),a("v-uni-view",{staticClass:"th"},[e._v("操作")])],1),e._l(e.eqpIdNameData,(function(t){return a("v-uni-view",{key:t.k,staticClass:"td-group"},[a("v-uni-view",{staticClass:"td"},[e._v(e._s(t.v))]),a("v-uni-view",{staticClass:"td"},[a("v-uni-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.saveDeviceData(t)}}},[e._v("确认")])],1)],1)}))],2)],1)],1)],1),a("u-popup",{attrs:{mode:"bottom",show:e.faultShow},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"content"},[a("v-uni-scroll-view",{staticStyle:{height:"300rpx"},attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"app-containerC wp table-zdy"},[a("v-uni-view",{staticClass:"th-group"},[a("v-uni-view",{staticClass:"th"},[e._v("故障类型名称")]),a("v-uni-view",{staticClass:"th"},[e._v("操作")])],1),e._l(e.faultData,(function(t){return a("v-uni-view",{key:t.k,staticClass:"td-group"},[a("v-uni-view",{staticClass:"td"},[e._v(e._s(t.v))]),a("v-uni-view",{staticClass:"td"},[a("v-uni-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.saveFaultData(t)}}},[e._v("确认")])],1)],1)}))],2)],1)],1)],1)],1)},o=[]},aad2:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-2a15d55c], uni-scroll-view[data-v-2a15d55c], uni-swiper-item[data-v-2a15d55c]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-upload[data-v-2a15d55c]{display:flex;flex-direction:column;flex:1}.u-upload__wrap[data-v-2a15d55c]{display:flex;flex-direction:row;flex-wrap:wrap;flex:1}.u-upload__wrap__preview[data-v-2a15d55c]{border-radius:2px;margin:0 8px 8px 0;position:relative;overflow:hidden;display:flex;flex-direction:row}.u-upload__wrap__preview__image[data-v-2a15d55c]{width:80px;height:80px}.u-upload__wrap__preview__other[data-v-2a15d55c]{width:80px;height:80px;background-color:#f2f2f2;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}.u-upload__wrap__preview__other__text[data-v-2a15d55c]{font-size:11px;color:#909193;margin-top:2px}.u-upload__deletable[data-v-2a15d55c]{position:absolute;top:0;right:0;background-color:#373737;height:14px;width:14px;display:flex;flex-direction:row;border-bottom-left-radius:100px;align-items:center;justify-content:center;z-index:3}.u-upload__deletable__icon[data-v-2a15d55c]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);top:0;right:0;top:1px;right:0}.u-upload__success[data-v-2a15d55c]{position:absolute;bottom:0;right:0;display:flex;flex-direction:row;border-style:solid;border-top-color:transparent;border-left-color:transparent;border-bottom-color:#5ac725;border-right-color:#5ac725;border-width:9px;align-items:center;justify-content:center}.u-upload__success__icon[data-v-2a15d55c]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);bottom:-10px;right:-10px}.u-upload__status[data-v-2a15d55c]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;align-items:center;justify-content:center}.u-upload__status__icon[data-v-2a15d55c]{position:relative;z-index:1}.u-upload__status__message[data-v-2a15d55c]{font-size:12px;color:#fff;margin-top:5px}.u-upload__button[data-v-2a15d55c]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80px;height:80px;background-color:#f4f5f7;border-radius:2px;margin:0 8px 8px 0;box-sizing:border-box}.u-upload__button__text[data-v-2a15d55c]{font-size:11px;color:#909193;margin-top:2px}.u-upload__button--hover[data-v-2a15d55c]{background-color:#e6e7e9}.u-upload__button--disabled[data-v-2a15d55c]{opacity:.5}',""]),e.exports=t},ad23:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFile=function(e){var t=e.accept,a=e.multiple,i=e.capture,u=e.compressed,s=e.maxDuration,l=e.sizeType,c=e.camera,d=e.maxCount;return new Promise((function(e,p){switch(t){case"image":uni.chooseImage({count:a?Math.min(d,9):1,sourceType:i,sizeType:l,success:function(t){return e(function(e){return e.tempFiles.map((function(e){return(0,n.default)((0,n.default)({},o(e,["path"])),{},{type:"image",url:e.path,thumb:e.path,size:e.size,name:e.name})}))}(t))},fail:p});break;case"video":uni.chooseVideo({sourceType:i,compressed:u,maxDuration:s,camera:c,success:function(t){return e(function(e){return[(0,n.default)((0,n.default)({},o(e,["tempFilePath","thumbTempFilePath","errMsg"])),{},{type:"video",url:e.tempFilePath,thumb:e.thumbTempFilePath,size:e.size,name:e.name})]}(t))},fail:p});break;case"file":uni.chooseFile({count:a?d:1,type:t,success:function(t){return e(r(t))},fail:p});break;default:uni.chooseFile({count:a?d:1,type:"all",success:function(t){return e(r(t))},fail:p})}}))};var n=i(a("5530"));function o(e,t){return["[object Object]","[object File]"].includes(Object.prototype.toString.call(e))?Object.keys(e).reduce((function(a,i){return t.includes(i)||(a[i]=e[i]),a}),{}):{}}function r(e){return e.tempFiles.map((function(e){return(0,n.default)((0,n.default)({},o(e,["path"])),{},{url:e.path,size:e.size,name:e.name,type:e.type})}))}a("caad"),a("d3b7"),a("13d5"),a("b64b"),a("2532"),a("d81d")},b05f:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("v-uni-view",{staticClass:"u-loading-icon",class:[e.vertical&&"u-loading-icon--vertical"],style:[e.$u.addStyle(e.customStyle)]},[e.webviewHide?e._e():a("v-uni-view",{ref:"ani",staticClass:"u-loading-icon__spinner",class:["u-loading-icon__spinner--"+e.mode],style:{color:e.color,width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size),borderTopColor:e.color,borderBottomColor:e.otherBorderColor,borderLeftColor:e.otherBorderColor,borderRightColor:e.otherBorderColor,"animation-duration":e.duration+"ms","animation-timing-function":"semicircle"===e.mode||"circle"===e.mode?e.timingFunction:""}},["spinner"===e.mode?e._l(e.array12,(function(e,t){return a("v-uni-view",{key:t,staticClass:"u-loading-icon__dot"})})):e._e()],2),e.text?a("v-uni-text",{staticClass:"u-loading-icon__text",style:{fontSize:e.$u.addUnit(e.textSize),color:e.textColor}},[e._v(e._s(e.text))]):e._e()],1):e._e()},n=[]},b841:function(e,t,a){"use strict";a("7a82");var i=a("dbce").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7");var n=i(a("3d7c")),o={uploadFile:"/file/upload",downloadFile:"/file/download/file",batchDeleteFile:"/file/delete/file",insertUploadRecord:"/slm/photo/insert",queryFile:"/slm/photo/query",deleteFile:"/slm/photo/delete"},r={downloadFile:function(e){return(0,n.default)({url:o.downloadFile,method:"get",data:e})},batchDeleteFile:function(e){return(0,n.default)({url:o.batchDeleteFile,method:"post",data:e})},insertUploadRecord:function(e){return(0,n.default)({url:o.insertUploadRecord,method:"post",data:e})},queryFile:function(e){return(0,n.default)({url:o.queryFile,method:"get",data:e})},deleteFile:function(e){return(0,n.default)({url:o.deleteFile,method:"post",data:e})},upload:function(e){return new Promise((function(t,a){uni.uploadFile({url:(0,n.getUrl)(o.uploadFile),fileType:"image",filePath:e.filePath,name:"file",header:{token:e.token},success:function(e){if(200===e.statusCode){var i=e.data,n=JSON.parse(i);t(n)}else a({status:10040,msg:"文件上传失败"})},fail:function(e){a({status:10040,msg:"文件上传失败"})}})}))}};t.default=r},b891:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var i={props:{accept:{type:String,default:uni.$u.props.upload.accept},capture:{type:[String,Array],default:uni.$u.props.upload.capture},compressed:{type:Boolean,default:uni.$u.props.upload.compressed},camera:{type:String,default:uni.$u.props.upload.camera},maxDuration:{type:Number,default:uni.$u.props.upload.maxDuration},uploadIcon:{type:String,default:uni.$u.props.upload.uploadIcon},uploadIconColor:{type:String,default:uni.$u.props.upload.uploadIconColor},useBeforeRead:{type:Boolean,default:uni.$u.props.upload.useBeforeRead},afterRead:{type:Function,default:null},beforeRead:{type:Function,default:null},previewFullImage:{type:Boolean,default:uni.$u.props.upload.previewFullImage},maxCount:{type:[String,Number],default:uni.$u.props.upload.maxCount},disabled:{type:Boolean,default:uni.$u.props.upload.disabled},imageMode:{type:String,default:uni.$u.props.upload.imageMode},name:{type:String,default:uni.$u.props.upload.name},sizeType:{type:Array,default:uni.$u.props.upload.sizeType},multiple:{type:Boolean,default:uni.$u.props.upload.multiple},deletable:{type:Boolean,default:uni.$u.props.upload.deletable},maxSize:{type:[String,Number],default:uni.$u.props.upload.maxSize},fileList:{type:Array,default:uni.$u.props.upload.fileList},uploadText:{type:String,default:uni.$u.props.upload.uploadText},width:{type:[String,Number],default:uni.$u.props.upload.width},height:{type:[String,Number],default:uni.$u.props.upload.height},previewImage:{type:Boolean,default:uni.$u.props.upload.previewImage}}};t.default=i},baa5:function(e,t,a){var i=a("23e7"),n=a("e58c");i({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},c59c:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a630"),a("3ca3");var n=i(a("008d")),o={name:"u-loading-icon",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}},computed:{otherBorderColor:function(){var e=uni.$u.colorGradient(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show:function(e){}},mounted:function(){this.init()},methods:{init:function(){setTimeout((function(){}),20)},addEventListenerToWebview:function(){var e=this,t=getCurrentPages(),a=t[t.length-1],i=a.$getAppWebview();i.addEventListener("hide",(function(){e.webviewHide=!0})),i.addEventListener("show",(function(){e.webviewHide=!1}))}}};t.default=o},c994:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={watch:{accept:{immediate:!0,handler:function(e){"all"!==e&&"media"!==e||uni.$u.error("只有微信小程序才支持把accept配置为all、media之一")}}}};t.default=i},d1f0:function(e,t,a){"use strict";var i=a("3473"),n=a.n(i);n.a},e668:function(e,t,a){var i=a("ecc0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("5406660e",i,!0,{sourceMap:!1,shadowMode:!1})},ecc0:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.btn[data-v-0d171bfd]{margin-left:10px}.u-checkbox[data-v-0d171bfd]{margin-right:20px}[data-v-0d171bfd] .u-form-item{padding-left:12px}',""]),e.exports=t},ff7e:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={uIcon:a("3c3f").default,uLoadingIcon:a("83c2").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"u-upload",style:[e.$u.addStyle(e.customStyle)]},[a("v-uni-view",{staticClass:"u-upload__wrap"},[e.previewImage?e._l(e.lists,(function(t,i){return a("v-uni-view",{key:i,staticClass:"u-upload__wrap__preview"},[t.isImage||t.type&&"image"===t.type?a("v-uni-image",{staticClass:"u-upload__wrap__preview__image",style:[{width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}],attrs:{src:t.thumb||t.url,mode:e.imageMode},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.onPreviewImage(t)}}}):a("v-uni-view",{staticClass:"u-upload__wrap__preview__other"},[a("u-icon",{attrs:{color:"#80CBF9",size:"26",name:t.isVideo||t.type&&"video"===t.type?"movie":"folder"}}),a("v-uni-text",{staticClass:"u-upload__wrap__preview__other__text"},[e._v(e._s(t.isVideo||t.type&&"video"===t.type?"视频":"文件"))])],1),"uploading"===t.status||"failed"===t.status?a("v-uni-view",{staticClass:"u-upload__status"},[a("v-uni-view",{staticClass:"u-upload__status__icon"},["failed"===t.status?a("u-icon",{attrs:{name:"close-circle",color:"#ffffff",size:"25"}}):a("u-loading-icon",{attrs:{size:"22",mode:"circle",color:"#ffffff"}})],1),t.message?a("v-uni-text",{staticClass:"u-upload__status__message"},[e._v(e._s(t.message))]):e._e()],1):e._e(),"uploading"!==t.status&&(e.deletable||t.deletable)?a("v-uni-view",{staticClass:"u-upload__deletable",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.deleteItem(i)}}},[a("v-uni-view",{staticClass:"u-upload__deletable__icon"},[a("u-icon",{attrs:{name:"close",color:"#ffffff",size:"10"}})],1)],1):e._e(),"success"===t.status?a("v-uni-view",{staticClass:"u-upload__success"},[a("v-uni-view",{staticClass:"u-upload__success__icon"},[a("u-icon",{attrs:{name:"checkmark",color:"#ffffff",size:"12"}})],1)],1):e._e()],1)})):e._e(),e.isInCount?[e.$slots.default||e.$slots.$default?a("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[e._t("default")],2):a("v-uni-view",{staticClass:"u-upload__button",class:[e.disabled&&"u-upload__button--disabled"],style:[{width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}],attrs:{"hover-class":e.disabled?"":"u-upload__button--hover","hover-stay-time":"150"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:e.uploadIcon,size:"26",color:e.uploadIconColor}}),e.uploadText?a("v-uni-text",{staticClass:"u-upload__button__text"},[e._v(e._s(e.uploadText))]):e._e()],1)]:e._e()],2)],1)},o=[]}}]);